<!doctype html>
<html lang="zh-Hant"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>資料核對檢視</title><style>body{margin:0;background:#0f1115;color:#e8edf5;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans TC",sans-serif}.wrap{max-width:1200px;margin:0 auto;padding:20px}.top{display:flex;gap:8px;flex-wrap:wrap;align-items:center}select,button{background:#1a1f27;color:#e8edf5;border:1px solid #2a3442;border-radius:10px;padding:8px 10px}.meta{margin:12px 0;color:#9fb0c3;font-size:13px}.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:10px}.card{background:#171b22;border:1px solid #2a3442;border-radius:12px;padding:10px}.t{font-weight:700;margin-bottom:6px}.chip{display:inline-block;border:1px solid #34465d;border-radius:999px;padding:2px 8px;font-size:12px;color:#9fb0c3;margin-right:4px}.ok{color:#7edc95;border-color:#2f5f3d}.warn{color:#ffc37c;border-color:#725428}.err{background:#2a1111;border-color:#6e2c2c;color:#ffd3d3;padding:8px;border-radius:8px}a{color:#7db3ff}</style></head><body><div class="wrap"><h2>資料核對檢視</h2><div class="top"><select id="src"><option value="../data/caitodo/tasks.json">才多多</option><option value="../data/zhaojing/tasks.json">兆鯨顧問</option><option value="../data/finance/tasks.json">理財分析師</option><option value="../data/personal/tasks.json">個人財務</option><option value="../data/openclaw/tasks.json">OpenClaw</option></select><button id="reload">重新載入</button><a id="raw" href="#" target="_blank">開原始 JSON</a></div><div id="meta" class="meta"></div><div id="err"></div><div id="grid" class="grid"></div></div><script>const src=document.getElementById('src'),grid=document.getElementById('grid'),meta=document.getElementById('meta'),err=document.getElementById('err'),raw=document.getElementById('raw');async function load(){const url=src.value+"?_="+Date.now();raw.href=src.value;err.innerHTML='';grid.innerHTML='';meta.textContent='載入中...';try{const r=await fetch(url);if(!r.ok)throw new Error('HTTP '+r.status);const d=await r.json();const tasks=Array.isArray(d.tasks)?d.tasks:[];meta.textContent=`updated_at: ${d.updated_at||'-'}｜tasks: ${tasks.length}`;grid.innerHTML=tasks.map(t=>`<div class="card"><div class="t">${t.title||'(未命名)'}</div><div><span class="chip ${t.status==='已完成'?'ok':'warn'}">${t.status||'待處理'}</span><span class="chip">${t.priority||'-'}</span><span class="chip">${t.type||'-'}</span></div><div style="margin-top:6px;color:#9fb0c3;font-size:13px">${t.next_step||'-'}</div><div style="margin-top:6px;color:#7f90a5;font-size:12px">due: ${t.due||'-'} ｜ owner: ${t.owner_role||'-'}</div></div>`).join('')}catch(e){meta.textContent='';err.innerHTML=`<div class="err">載入失敗：${e.message}</div>`}}document.getElementById('reload').onclick=load;src.onchange=load;const q=new URLSearchParams(location.search);const s=q.get('src');const map={caitodo:'../data/caitodo/tasks.json',zhaojing:'../data/zhaojing/tasks.json',finance:'../data/finance/tasks.json',personal:'../data/personal/tasks.json',openclaw:'../data/openclaw/tasks.json'};if(s&&map[s]){src.value=map[s];}
load();</script></body></html>
